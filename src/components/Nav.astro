---
import LinkButton from "./LinkButton.astro";

export interface Props {
    left: boolean;
    activeNav?: "/" | "now" | "posts" | "projects" | "media" | "about" | "search";
}

const { activeNav } = Astro.props;
const { left } = Astro.props;
---

<nav id="nav-menu" class={`${left === true ? "sm:hidden" : ""} display-none sm:flex`}>
    <div id="buttons">
        <LinkButton
            href="/rss.xml"
            className={"focus-outline"}
            ariaLabel="rss feed"
            title="RSS Feed"
        >rss</LinkButton>
        <!--📡svg xmlns="http://www.w3.org/2000/svg" class="rss-icon"
            ><path
            d="M19 20.001C19 11.729 12.271 5 4 5v2c7.168 0 13 5.832 13 13.001h2z"
            ></path><path
            d="M12 20.001h2C14 14.486 9.514 10 4 10v2c4.411 0 8 3.589 8 8.001z"
            ></path><circle cx="6" cy="18" r="2"></circle>
        </svg-->
        
        <!--Searchbar client:load searchList={searchList}/-->
        <!--{
            SITE.lightAndDarkMode && (-->
        <button
            id="theme-btn"
            class="focus-outline"
            title="Toggles light & dark"
            aria-label="auto"
            aria-live="polite"
          >
            <span id="day-symbol">drk<br>mde</span>
            <span id="night-symbol">lght<br>mde</span>
        </button>
        <button
            id="font-btn"
            class="focus-outline"
            title="Toggles font style"
            aria-label="auto"
            aria-live="polite"
          >
            <span id="sans-symbol">mno<br>fnt</span>
            <span id="mono-symbol">sns<br>fnt</span>
        </button>
            <!--🌐🌞svg xmlns="http://www.w3.org/2000/svg" id="moon-svg">
              <path d="M20.742 13.045a8.088 8.088 0 0 1-2.077.271c-2.135 0-4.14-.83-5.646-2.336a8.025 8.025 0 0 1-2.064-7.723A1 1 0 0 0 9.73 2.034a10.014 10.014 0 0 0-4.489 2.582c-3.898 3.898-3.898 10.243 0 14.143a9.937 9.937 0 0 0 7.072 2.93 9.93 9.93 0 0 0 7.07-2.929 10.007 10.007 0 0 0 2.583-4.491 1.001 1.001 0 0 0-1.224-1.224zm-2.772 4.301a7.947 7.947 0 0 1-5.656 2.343 7.953 7.953 0 0 1-5.658-2.344c-3.118-3.119-3.118-8.195 0-11.314a7.923 7.923 0 0 1 2.06-1.483 10.027 10.027 0 0 0 2.89 7.848 9.972 9.972 0 0 0 7.848 2.891 8.036 8.036 0 0 1-1.484 2.059z" />
            </svg>
            <svg xmlns="http://www.w3.org/2000/svg" id="sun-svg">
              <path d="M6.993 12c0 2.761 2.246 5.007 5.007 5.007s5.007-2.246 5.007-5.007S14.761 6.993 12 6.993 6.993 9.239 6.993 12zM12 8.993c1.658 0 3.007 1.349 3.007 3.007S13.658 15.007 12 15.007 8.993 13.658 8.993 12 10.342 8.993 12 8.993zM10.998 19h2v3h-2zm0-17h2v3h-2zm-9 9h3v2h-3zm17 0h3v2h-3zM4.219 18.363l2.12-2.122 1.415 1.414-2.12 2.122zM16.24 6.344l2.122-2.122 1.414 1.414-2.122 2.122zM6.342 7.759 4.22 5.637l1.415-1.414 2.12 2.122zm13.434 10.605-1.414 1.414-2.122-2.122 1.414-1.414z" />
            </svg>
          </button-->
        <!-- )} -->
        <LinkButton
            href="/search"
            className={`focus-outline ${
            activeNav === "search" ? "active" : ""
            }`}
            ariaLabel="search"
            title="Search"
        >srch
            <!--🔍svg
            xmlns="http://www.w3.org/2000/svg"
            class="scale-125 sm:scale-100"
            ><path
                d="M19.023 16.977a35.13 35.13 0 0 1-1.367-1.384c-.372-.378-.596-.653-.596-.653l-2.8-1.337A6.962 6.962 0 0 0 16 9c0-3.859-3.14-7-7-7S2 5.141 2 9s3.14 7 7 7c1.763 0 3.37-.66 4.603-1.739l1.337 2.8s.275.224.653.596c.387.363.896.854 1.384 1.367l1.358 1.392.604.646 2.121-2.121-.646-.604c-.379-.372-.885-.866-1.391-1.36zM9 14c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5z"
            ></path>
            </svg-->
        </LinkButton>
    </div>
    <ul id="menu-items" class={`${left === true ? "left" : "right"}`}>
        <li>
            <a href="/" class={activeNav === "/" ? "active" : ""}>
                &nbsp;&nbsp;/
            </a>
        </li>
        <li>
            <a href="/now" class={activeNav === "now" ? "active" : ""}>
            now
            </a>
        </li>
        <li>
            <a href="/notes" class={activeNav === "posts" ? "active" : ""}>
            notes
            </a>
        </li>
        <li>
            <a href="/projects" class={activeNav === "projects" ? "active" : ""}>
            projects
            </a>
        </li>
        <li>
            <a href="/media" class={activeNav === "media" ? "active" : ""}>
            media
            </a>
        </li>
        <li>
            <a href="/about" class={activeNav === "about" ? "active" : ""}>
            about
            </a>
        </li>
    </ul>
</nav>
<br class="left">

<style>
  .left {
    /*@apply font-medium text-right grid sm:hidden;*/
  }
  .right {
    /*@apply items-start justify-start text-right grid;*/
  }
  #buttons {
    /*@apply self-end flex w-3/4 justify-between mb-5;*/
  }
  #buttons {
    @apply flex flex-col sm:flex-row justify-between w-auto text-sm sm:w-full self-start sm:self-end ml-[20%] sm:ml-0 mb-5;
  }
  #buttons span, #buttons a {
    @apply mb-10 sm:mb-0;
  }
  nav {
    @apply col-start-1 flex w-full flex-row sm:flex-col sm:justify-between sm:space-x-0 sm:py-5;
  }
  nav ul {
    @apply flex flex-col mr-auto w-1/2 sm:w-auto;
  }
  nav ul {
    /*@apply mt-0 grid-cols-1 gap-x-2 gap-y-2 sm:ml-0 sm:mt-0 sm:w-auto sm:gap-x-0 sm:gap-y-3;*/
  }
  nav ul li {
    @apply /*mb-6 sm:mb-4*/ /*sm:*/text-right;
    white-space: pre-line;
    line-height: 1.2;
  }
  nav ul li a {
    @apply text-right font-medium w-full decoration-dotted decoration-2
    hover:decoration-solid hover:text-skin-internal /*py-3 sm:py-1*/ underline-offset-4;
    white-space: nowrap;
  }
  nav ul li a::after {
    /*  ─┤  */
    content: "\2500\2524";
  }
  nav ul li:first-child a::after {
    /*      */
    content: "";
  }
  nav ul li:last-child a::after {
    /*  ─┘  */
    content: "\2500\2518";
  }
  nav ul li::before {
    /*  │   */ /*\a = newline*/
    content: "\2502\a";
  }
  nav ul li:first-child::before {
    /*      */
    content: "";
  }
  #theme-btn, #font-btn {
    @apply hover:text-skin-accent;
  }
  nav a.active {
    @apply underline decoration-wavy decoration-2 underline-offset-4;
  }
</style>